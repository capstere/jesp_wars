<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Return of the JESP</title>
  <style>
    /* -------------------------------
       Grundinställningar & Bakgrund
    ------------------------------- */
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: #ffe81f;
      font-family: 'Courier New', Courier, monospace;
    }
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black url('static/images/stars.jpg') repeat;
      background-size: cover;
      z-index: -4;
    }
    
    /* -------------------------------
       Countdown (överst)
       - Ändra animation-delay för när du vill att nedräkningen ska fade:as in.
    ------------------------------- */
    #countdown {
      position: fixed;
      top: 20px;
      width: 100%;
      text-align: center;
      font-size: 2em;
      opacity: 0;
      z-index: 900;
      animation: fadeInCountdown 2s ease-in forwards;
      animation-delay: 3s; /* ändra delay efter behov */
    }
    @keyframes fadeInCountdown {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* -------------------------------
       Startknapp
    ------------------------------- */
    #start-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.8em;
      padding: 20px 40px;
      background-color: #ffe81f;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 1000;
    }
    #start-button:hover {
      transform: translate(-50%, -50%) scale(1.1);
      background: white;
    }
    
    /* -------------------------------
       Intro-text (blå)
       - Synlig i ca 2 s innan den börjar fade:as ut över 2 s (totalt ~4 s)
    ------------------------------- */
    #intro-text {
      position: absolute;
      width: 100%;
      top: 40%;
      text-align: center;
      font-size: 2em;
      color: #4ee;
      z-index: 800;
      animation: fadeOut 2s ease-out forwards;
      animation-delay: 2s; /* börjar fade:as ut efter 2 s */
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; }
    }
    
    /* -------------------------------
       Logotyp
       - Visas efter intro-text; här med musik.
       - Zoomar ut under 5 s.
    ------------------------------- */
    #logo {
      position: absolute;
      top: 30%;
      width: 100%;
      text-align: center;
      z-index: 850;
    }
    #logo img {
      width: 70%; /* Justera initial storlek */
      animation: logoZoom 5s ease-out forwards;
      /* Ingen animation-delay här, vi styr visa i JavaScript */
    }
    @keyframes logoZoom {
      from { transform: scale(1); opacity: 1; }
      to   { transform: scale(0.1); opacity: 0; }
    }
    
    /* -------------------------------
       Huvudtitel (överlagrad i mitten)
       - Visas med en fadeIn när logotypen visas
    ------------------------------- */
    #main-title {
      position: fixed;
      top: 50%;
      width: 100%;
      text-align: center;
      font-size: 3em;
      opacity: 0;
      z-index: 950;
      animation: fadeInTitle 3s ease-out forwards;
      animation-delay: 2.5s; /* Anpassa efter behov */
    }
    @keyframes fadeInTitle {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    
    /* -------------------------------
       Crawl
       - Visas efter 5 s; rullar upp på 35 s.
    ------------------------------- */
    .star-wars {
      position: relative;
      height: 100vh;
      overflow: hidden;
      perspective: 400px;
      display: none;  /* Visa via JavaScript */
      z-index: 700;
    }
    .crawl {
      position: absolute;
      bottom: -100%;
      width: 100%;
      transform-origin: 50% 100%;
      transform: rotateX(20deg);
      animation: crawl 35s linear forwards;
      text-align: center; /* Centrera för klassisk känsla */
      font-size: 120%;
      padding: 0 10%;
    }
    @keyframes crawl {
      from { bottom: -100%; }
      to   { bottom: 100%; }
    }
    
    /* -------------------------------
       Planet-effekt (PNG)
       - Ska glida in som huvudbakgrund efter crawlen.
    ------------------------------- */
    #planet-effect {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      z-index: -2;
      animation: planetSlideIn 4s ease-out forwards;
      animation-delay: 40s; /* Justera för när du vill att den ska synas */
    }
    @keyframes planetSlideIn {
      from { transform: translateY(50%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    /* -------------------------------
       Ljudknappar
       - Ska fade:as in efter att planet-effekten visas (t.ex. 42 s).
    ------------------------------- */
    #buttons {
      position: absolute;
      bottom: 30px;
      width: 100%;
      text-align: center;
      opacity: 0;
      z-index: 800;
      animation: fadeInButtons 2s ease-in forwards;
      animation-delay: 42s; /* Justera för synkning med planet-effekten */
    }
    @keyframes fadeInButtons {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    .btn {
      background: #ffe81f;
      border: none;
      font-weight: bold;
      font-size: 1em;
      padding: 15px 20px;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.3s ease-in-out, background 0.3s;
      border-radius: 8px;
    }
    .btn:hover {
      transform: scale(1.1);
      background: white;
    }
    
    /* -------------------------------
       Audio (dold)
    ------------------------------- */
    audio { display: none; }
  </style>
</head>
<body>
  <!-- Bakgrund -->
  <div class="stars"></div>
  
  <!-- Countdown (överst) -->
  <div id="countdown"></div>
  
  <!-- Huvudtitel (centralt överlagrad) -->
  <div id="main-title">The Return of the JESP</div>
  
  <!-- Planet-effekt (visas senare) -->
  <img id="planet-effect" src="static/images/planet.png" alt="Planet with Moons">
  
  <!-- Startknapp -->
  <button id="start-button" onclick="startIntro()">MAY THE JESP BE WITH YOU</button>
  
  <!-- Intro-text (blå) -->
  <div id="intro-text">A long time ago, in a Cepheid far, far away…</div>
  
  <!-- Logotyp -->
  <div id="logo">
    <img src="static/images/starwars_logo.png" alt="Star Wars Logo">
  </div>
  
  <!-- Crawl-sektionen -->
  <div class="star-wars" id="crawl-container">
    <div class="crawl">
      <p>Episode IX</p>
      <p><strong>RETURN OF THE JESP</strong></p>
      <p>
        The Jedi once known as JESP  
        has been summoned back to the role  
        he believed he had outgrown.  
        Once a rising force in the galaxy  
        of Organizational Restructuring,  
        JESP dared to learn new tasks,  
        master new calendars,  
        and believe—foolishly—in growth.
      </p>
      <p>
        But the Council of Middle Management  
        has spoken. The cycle begins anew.  
        In the shadows of budget slides  
        and whispered Slack messages,  
        JESP is pulled back  
        into the very place he escaped—  
        an office of forgotten folders,  
        misnamed files,  
        and keyboard crumbs that remember.
      </p>
      <p>
        He must now UNLEARN  
        all that he briefly learned.  
        Return to the old tools.  
        The old acronyms.  
        The old despair.
      </p>
      <p>
        His Jedi training, such as it was,  
        must be suppressed.  
        His lightsaber—once a glimmer of promise—  
        has been replaced  
        by a sticky badge printer  
        and a confused intern named Kevin.
      </p>
      <p>
        There is no rebellion.  
        No destiny.  
        Just the quiet thud  
        of returning footsteps  
        down the hallway of irrelevance.  
        And as he sits…  
        in his slightly worse chair…  
        he knows:  
        This is not his time.  
        But it is, unfortunately,  
        his shift.
      </p>
    </div>
  </div>
  
  <!-- Ljudknappar (ytterligare ljud) -->
  <div id="buttons">
    <button class="btn" onclick="playSound('fraga1.mp3')">Advice 1</button>
    <button class="btn" onclick="playSound('fraga2.mp3')">Advice 2</button>
    <button class="btn" onclick="playSound('fraga3.mp3')">Advice 3</button>
    <button class="btn" onclick="playSound('do_it.mp3')">Advice 4</button>
  </div>
  
  <!-- Audioelement -->
  <audio id="bgMusic" src="static/sounds/starwars_theme.mp3" preload="auto"></audio>
  <audio id="soundPlayer"></audio>
  
  <script>
    // Nedräkningsfunktion för 30 april 2025
    function startCountdown() {
      var targetDate = new Date("2025-04-30T00:00:00").getTime();
      var countdownEl = document.getElementById("countdown");
      function updateCountdown() {
        var now = new Date().getTime();
        var distance = targetDate - now;
        if (distance < 0) {
          countdownEl.innerHTML = "JESP TIME!";
          clearInterval(countdownInterval);
          return;
        }
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        countdownEl.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s";
      }
      updateCountdown();
      var countdownInterval = setInterval(updateCountdown, 1000);
    }
    
    function startIntro() {
      // Dölj startknappen
      document.getElementById("start-button").style.display = "none";
      
      // Visa intro-text
      document.getElementById("intro-text").style.display = "block";
      
      // Starta nedräkningen direkt
      startCountdown();
      
      // Efter 2 s: döljs intro-text, visa logotyp och huvudtitel samt starta musiken
      setTimeout(() => {
        document.getElementById("intro-text").style.display = "none";
        document.getElementById("logo").style.display = "block";
        // Huvudtitel visas (detta är redan fade:ad med CSS)
        document.getElementById("main-title").style.display = "block";
        // Starta bakgrundsmusiken
        document.getElementById("bgMusic").play().catch(e => console.log("Musikfel:", e));
      }, 2000);
      
      // Efter 5 s: visa crawl-sektionen
      setTimeout(() => {
        document.getElementById("crawl-container").style.display = "block";
      }, 5000);
    }
    
    function playSound(file) {
      const sound = document.getElementById("soundPlayer");
      sound.pause();
      sound.currentTime = 0;
      sound.src = `static/sounds/${file}`;
      sound.load();
      sound.play().catch(e => console.log("Ljudfel:", e));
    }
  </script>
</body>
</html>
