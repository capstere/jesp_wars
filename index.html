<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Return of the JESP</title>
  <style>
    /*****************************************************
     * BASINSTÄLLNINGAR & BAKGRUND
     *****************************************************/
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: #ffe81f;
      font-family: 'Courier New', Courier, monospace;
    }
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black url('static/images/stars.jpg') repeat;
      background-size: cover;
      z-index: -99;
    }
    
    /*****************************************************
     * NEDRÄKNING (överst)
     *****************************************************/
    #countdown {
      position: fixed;
      top: 10px;
      width: 100%;
      text-align: center;
      font-size: 1.6em;
      z-index: 900;
      color: yellow;
    }
    
    /*****************************************************
     * STARTKNAPP
     *****************************************************/
    #start-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.6em;
      padding: 20px 40px;
      background-color: #ffe81f;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 1000;
    }
    #start-button:hover {
      transform: translate(-50%, -50%) scale(1.1);
      background: white;
    }
    
    /*****************************************************
     * INTRO-TEXT (BLÅ)
     * Visas direkt efter klick, synlig i ca 3s, fade:as ut under 2s
     *****************************************************/
    #intro-text {
      display: none; /* Visas via JS */
      position: absolute;
      top: 40%;
      width: 100%;
      text-align: center;
      font-size: 2em;
      color: #4ee;
      opacity: 1;
      z-index: 800;
      animation: fadeOut 2s ease-out forwards;
      animation-delay: 3s; /* Startar fade:ut efter 3s */
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; }
    }
    
    /*****************************************************
     * LOGOTYP
     * Visas vid 5s; zoomar ut från 5 s till 9 s
     *****************************************************/
    #logo {
      display: none; /* Visas vid 5s via JS */
      position: absolute;
      top: 30%;
      width: 100%;
      text-align: center;
      z-index: 850;
    }
    #logo img {
      width: 70%; /* Initial storlek, justera efter önskemål */
      opacity: 1;
      animation: logoZoom 4s ease-out forwards;
    }
    @keyframes logoZoom {
      from { transform: scale(1); opacity: 1; }
      to   { transform: scale(0.1); opacity: 0; }
    }
    
    /*****************************************************
     * CRAWL
     * Visas vid 9s, rullar upp under 20 s (9s - 29s)
     *****************************************************/
    .star-wars {
      display: none; /* Visas via JS */
      position: relative;
      height: 100vh;
      overflow: hidden;
      perspective: 400px;
      z-index: 700;
    }
    .crawl {
      position: absolute;
      bottom: -100%;
      width: 100%;
      transform-origin: 50% 100%;
      transform: rotateX(20deg);
      text-align: center;
      font-size: 120%;
      padding: 0 10%;
      animation: crawl 20s linear forwards;
    }
    @keyframes crawl {
      from { bottom: -100%; }
      to   { bottom: 100%; }
    }
    
    /*****************************************************
     * CENTRALT TITLE-ELEMENT ("The Return of the JESP")
     * Visas vid 29s (efter crawlen) och stannar
     *****************************************************/
    #main-title {
      display: none; /* Visas via JS */
      position: absolute;
      top: 40%;
      width: 100%;
      text-align: center;
      font-size: 3.5em;
      color: #ffe81f;
      opacity: 0;
      z-index: 860;
      animation: fadeInTitle 2s ease-out forwards;
    }
    @keyframes fadeInTitle {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    
    /*****************************************************
     * PLANET-EFFEKT
     * Visas vid 29s, glider in över 4 s (29s - 33s)
     *****************************************************/
    #planet-effect {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      z-index: -2;
      animation: planetSlideIn 4s ease-out forwards;
      animation-delay: 29s;
    }
    @keyframes planetSlideIn {
      from { transform: translateY(50%); opacity: 0; }
      to   { transform: translateY(0); opacity: 1; }
    }
    
    /*****************************************************
     * LJUDKNAPPAR (FRÅGOR)
     * Fade:as in sist, vid ca 33s
     *****************************************************/
    #buttons {
      display: none;
      position: absolute;
      bottom: 30px;
      width: 100%;
      text-align: center;
      opacity: 0;
      z-index: 800;
      animation: fadeInButtons 2s ease-in forwards;
      animation-delay: 33s;
    }
    @keyframes fadeInButtons {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    .btn {
      background: #ffe81f;
      border: none;
      font-weight: bold;
      font-size: 1em;
      padding: 15px 20px;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.3s ease-in-out, background 0.3s;
      border-radius: 8px;
    }
    .btn:hover {
      transform: scale(1.1);
      background: white;
    }
    
    /*****************************************************
     * AUDIO
     *****************************************************/
    audio { display: none; }
  </style>
</head>
<body>
  <!-- Bakgrund: Stjärnhimmel -->
  <div class="stars"></div>
  
  <!-- Countdown: syns överst, från start -->
  <div id="countdown"></div>
  
  <!-- Startknapp -->
  <button id="start-button" onclick="startIntro()">MAY THE JESP BE WITH YOU</button>
  
  <!-- Intro-text (blå) -->
  <div id="intro-text">A long time ago, in a Cepheid far, far away…</div>
  
  <!-- Logotyp (Star Wars-logga) -->
  <div id="logo">
    <img src="static/images/starwars_logo.png" alt="Star Wars Logo">
  </div>
  
  <!-- Crawl-sektionen -->
  <div class="star-wars" id="crawl-container">
    <div class="crawl" id="crawl-text">
      <p>Episode IX</p>
      <p><strong>RETURN OF THE JESP</strong></p>
      <p>
        The Jedi once known as JESP has been summoned back to the role he believed he had outgrown.
      </p>
      <p>
        But the Council of Middle Management has spoken. In the shadows of budget slides and whispered Slack messages,
        JESP is pulled back into the office of forgotten folders.
      </p>
      <p>
        He must now UNLEARN all that he briefly learned, return to the old tools,
        the old acronyms, the old despair.
      </p>
      <p>
        His Jedi training, such as it was, must be suppressed.
        His lightsaber has been replaced by a sticky badge printer and a confused intern named Kevin.
      </p>
      <p>
        There is no rebellion. No destiny.
        Just the quiet thud of returning footsteps down the hallway of irrelevance.
        And as he sits in his slightly worse chair, he knows:
        This is not his time. But it is, unfortunately, his shift.
      </p>
    </div>
  </div>
  
  <!-- Centralt Title-element ("The Return of the JESP") – visas efter crawl -->
  <div id="main-title">The Return of the JESP</div>
  
  <!-- Planet-effekt (PNG med transparent bakgrund) -->
  <img id="planet-effect" src="static/images/planet.png" alt="Planet with Moons">
  
  <!-- Ljudknappar (för ytterligare uppspelning) -->
  <div id="buttons">
    <button class="btn" onclick="playSound('fraga1.mp3')">Advice 1</button>
    <button class="btn" onclick="playSound('fraga2.mp3')">Advice 2</button>
    <button class="btn" onclick="playSound('fraga3.mp3')">Advice 3</button>
    <button class="btn" onclick="playSound('do_it.mp3')">Advice 4</button>
  </div>
  
  <!-- Audioelement -->
  <audio id="bgMusic" src="static/sounds/starwars_theme.mp3" preload="auto"></audio>
  <audio id="soundPlayer"></audio>
  
  <script>
    /*****************************************************
     * NEDRÄKNING TILL 30 APRIL 2025
     *****************************************************/
    function startCountdown() {
      var targetDate = new Date("2025-04-30T00:00:00").getTime();
      var countdownEl = document.getElementById("countdown");
      function updateCountdown() {
        var now = new Date().getTime();
        var distance = targetDate - now;
        if (distance < 0) {
          countdownEl.innerHTML = "JESP TIME!";
          clearInterval(countdownInterval);
          return;
        }
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        countdownEl.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s";
      }
      updateCountdown();
      var countdownInterval = setInterval(updateCountdown, 1000);
    }

    /*****************************************************
     * INTRO-SEKVENS (tidslinje)
     *****************************************************/
    function startIntro() {
      // 1. Dölj startknappen
      document.getElementById("start-button").style.display = "none";
      
      // 2. Starta nedräkningen (visas från början)
      startCountdown();
      
      // 3. Visa intro-text (blå) direkt
      var introText = document.getElementById("intro-text");
      introText.style.display = "block";
      
      // Intro-text är synlig ca 3 s, fadeas ut med CSS (total ca 5s)
      setTimeout(function() {
        introText.style.display = "none";
      }, 5000);
      
      // 4. Vid 5 s: Visa logotyp & starta bakgrundsmusik
      setTimeout(function() {
        var logo = document.getElementById("logo");
        logo.style.display = "block";
        // Starta bakgrundsmusik
        document.getElementById("bgMusic").play().catch(e => console.log("Musikfel:", e));
      }, 5000);
      
      // 5. Vid 9 s: Dölj logotyp, visa crawl-sektionen
      setTimeout(function() {
        document.getElementById("logo").style.display = "none";
        var crawlContainer = document.getElementById("crawl-container");
        crawlContainer.style.display = "block";
        // Starta crawl-animationen (20 s varaktighet: 9s till 29s)
        document.getElementById("crawl-text").style.animation = "crawl 20s linear forwards";
      }, 9000);
      
      // 6. Vid 29 s: Dölj crawl, visa centralt title-element ("The Return of the JESP")
      setTimeout(function() {
        document.getElementById("crawl-container").style.display = "none";
        var mainTitle = document.getElementById("main-title");
        mainTitle.style.display = "block";
        mainTitle.style.animation = "fadeInTitle 2s ease-out forwards";
      }, 29000);
      
      // 7. Vid 29 s: Samtidigt triggas planet-effekten (planet glider in)
      //    (Animation delay i CSS i #planet-effect)
      
      // 8. Vid 33 s: Visa ljudknappar (fade:as in)
      setTimeout(function() {
        var buttons = document.getElementById("buttons");
        buttons.style.display = "block";
        buttons.style.animation = "fadeInButtons 2s ease-in forwards";
      }, 33000);
    }

    /*****************************************************
     * SPELA LJUD (för knappar)
     *****************************************************/
    function playSound(file) {
      var sound = document.getElementById("soundPlayer");
      sound.pause();
      sound.currentTime = 0;
      sound.src = `static/sounds/${file}`;
      sound.load();
      sound.play().catch(e => console.log("Ljudfel:", e));
    }
  </script>
</body>
</html>
