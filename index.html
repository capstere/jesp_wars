<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Return of the JESP</title>
  <style>
    /* BASINSTÃ„LLNINGAR & BAKGRUND */
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      font-family: 'Courier New', Courier, monospace;
      color: #ffe81f;
    }
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black url('static/images/stars.jpeg') repeat;
      background-size: cover;
      z-index: -1;
    }

    /* NEDRÃ„KNING (Ã¶verst pÃ¥ skÃ¤rmen) */
    #countdown {
      position: fixed;
      top: 10px;
      width: 100%;
      text-align: center;
      font-size: 1.8em;
      z-index: 900;
      color: yellow;
    }

    /* STARTKNAPP */
    #start-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2em;
      padding: 20px 40px;
      background-color: #ffe81f;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 1000;
    }
    #start-button:hover {
      transform: translate(-50%, -50%) scale(1.1);
      background: white;
    }

    /* INTRO-TEXT (BLÃ…) */
    #intro-text {
      display: none;
      position: absolute;
      top: 40%;
      width: 100%;
      text-align: center;
      font-size: 2em;
      color: #4ee;
      z-index: 800;
      /* AnvÃ¤nder en fade-out animation (varar i 2 sekunder, startar efter 3 sekunder) */
      animation: fadeOut 2s ease-out forwards;
      animation-delay: 3s;
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    /* LOGOTYP */
    #logo {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      text-align: center;
      z-index: 850;
    }
    #logo img {
      max-width: 100%;
      max-height: 100%;
      /* Direkt visas utan fade-in â€“ zoomar ut under animationen */
      animation: logoZoomOut 4s linear forwards;
    }
    @keyframes logoZoomOut {
      0% { transform: scale(1) translateY(0); opacity: 1; }
      100% { transform: scale(0.1) translateY(-100vh); opacity: 0; }
    }

    /* CRAWL (Star Wars-stil) */
    #crawl-container {
      display: none;
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      perspective: 800px;
      z-index: 700;
      pointer-events: none;
    }
    #crawl-text {
      position: absolute;
      bottom: -100%;
      width: 100%;
      transform-origin: 50% 100%;
      transform: rotateX(25deg);
      text-align: justify;
      font-size: 2.5em;
      line-height: 1.6em;
      color: #ffe81f;
      text-shadow: 2px 2px 8px #ffe81f, 0 0 10px #ffe81f;
      /* Crawl-animation: rullar frÃ¥n botten till toppen, med gradvis fade ut i slutet */
      animation: crawlAnim 25s linear forwards;
    }
    @keyframes crawlAnim {
      0% { bottom: -100%; opacity: 1; }
      80% { bottom: 90%; opacity: 1; }
      100% { bottom: 100%; opacity: 0; }
    }

    /* ADVICE-KNAPPAR */
    #buttons {
      display: none;
      position: fixed;
      bottom: 30px;
      width: 100%;
      text-align: center;
      z-index: 1000;
      opacity: 0;
      animation: fadeInButtons 2s ease-in forwards;
      animation-delay: 30s;
    }
    @keyframes fadeInButtons {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .btn {
      background: #ffe81f;
      border: none;
      font-weight: bold;
      font-size: 1em;
      padding: 15px 20px;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.3s ease-in-out, background 0.3s;
      border-radius: 8px;
    }
    .btn:hover {
      transform: scale(1.1);
      background: white;
    }

    /* AUDIO (dolt) */
    audio { display: none; }
  </style>
</head>
<body>
  <div class="stars"></div>

  <!-- NedrÃ¤kning -->
  <div id="countdown"></div>

  <!-- Startknapp -->
  <button id="start-button" onclick="startIntro()">MAY THE JESP BE WITH YOU</button>

  <!-- Intro-text (blÃ¥) -->
  <div id="intro-text">A long time ago, in a Cepheid far, far awayâ€¦</div>

  <!-- Logotyp (visas direkt utan fade in) -->
  <div id="logo">
    <img src="static/images/starwars_logo.png" alt="Star Wars Logo">
  </div>

  <!-- Crawl-text -->
  <div id="crawl-container">
    <div id="crawl-text">
      <p style="text-align:center; margin:0;"><strong>EPISODE IX</strong></p>
      <p style="text-align:center; margin:0;"><strong>RETURN OF THE JESP</strong></p>
      <p>
        The Jedi once known as JESP<br>
        has been summoned back to the role<br>
        he believed he had outgrown.<br>
        Once a rising force in the galaxy<br>
        of Organizational Restructuring,<br>
        JESP dared to learn new tasks,<br>
        master new calendars,<br>
        and believeâ€”foolishlyâ€”in growth.
      </p>
      <p>
        But the Council of Middle Management<br>
        has spoken. The cycle begins anew.<br>
        In the shadows of budget slides<br>
        and whispered Slack messages,<br>
        JESP is pulled back<br>
        into the very place he escapedâ€”<br>
        an office of forgotten folders,<br>
        misnamed files,<br>
        and keyboard crumbs that remember.
      </p>
      <p>
        He must now UNLEARN<br>
        all that he briefly learned.<br>
        Return to the old tools.<br>
        The old acronyms.<br>
        The old despair.<br>
        His Jedi training, such as it was,<br>
        must be suppressed.<br>
        His lightsaberâ€”once a glimmer of promiseâ€”<br>
        has been replaced<br>
        by a sticky badge printer<br>
        and a confused intern named Kevin.
      </p>
      <p>
        There is no rebellion.<br>
        No destiny.<br>
        Just the quiet thud<br>
        of returning footsteps<br>
        down the hallway of irrelevance.<br>
        And as he sitsâ€¦<br>
        in his slightly worse chairâ€¦<br>
        he knows:<br>
        This is not his time.<br>
        But it is, unfortunately,<br>
        his shift.
      </p>
    </div>
  </div>

  <!-- Advice-knappar -->
  <div id="buttons">
    <button class="btn" onclick="playSound('fraga1.mp3')">Advice 1</button>
    <button class="btn" onclick="playSound('fraga2.mp3')">Advice 2</button>
    <button class="btn" onclick="playSound('fraga3.mp3')">Advice 3</button>
    <button class="btn" onclick="playSound('do_it.mp3')">Advice 4</button>
  </div>

  <!-- Audio-element -->
  <audio id="bgMusic" src="static/sounds/starwars_theme.mp3" preload="auto"></audio>
  <audio id="soundPlayer" preload="auto"></audio>

  <script>
    // Helper function fÃ¶r att pausa (async sleep)
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    // Startar nedrÃ¤kningen (visas Ã¶verst)
    function startCountdown() {
      const targetDate = new Date("2025-05-01T00:00:00").getTime();
      const countdownEl = document.getElementById("countdown");
      function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDate - now;
        if (distance < 0) {
          countdownEl.innerHTML = "ðŸŽ‰ JESP TIME!";
          clearInterval(interval);
          return;
        }
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
      }
      updateCountdown();
      const interval = setInterval(updateCountdown, 1000);
    }

    async function startIntro() {
      // DÃ¶lj startknappen
      document.getElementById("start-button").style.display = "none";
      // Starta nedrÃ¤kningen
      startCountdown();

      // Visa intro-text (blÃ¥) i 5 s (3 s synlig + 2 s fade-out)
      const introText = document.getElementById("intro-text");
      introText.style.display = "block";
      await sleep(5000);
      introText.style.display = "none";

      // Visa logotypen vid 5 s
      const logo = document.getElementById("logo");
      logo.style.display = "block";
      // Starta musiken exakt dÃ¥
      const bgMusic = document.getElementById("bgMusic");
      bgMusic.volume = 1.0;
      bgMusic.currentTime = 0;
      try {
        await bgMusic.play();
      } catch (e) {
        console.log("Musikfel:", e);
      }
      // LÃ¥t logotypen zooma ut (4 s varaktighet enligt CSS-animationen)
      await sleep(4000);
      logo.style.display = "none";

      // Visa crawl-texten (bÃ¶rjar frÃ¥n botten) vid ca 9 s
      const crawlContainer = document.getElementById("crawl-container");
      crawlContainer.style.display = "block";
      // Crawl-animationen (25 s) sker via CSS
      await sleep(25000);
      crawlContainer.style.display = "none";

      // Visa advice-knappar vid ca 34 s
      const buttons = document.getElementById("buttons");
      buttons.style.display = "block";
      // Fade-in sker via CSS-animation (2 s)
    }

    function playSound(file) {
      const sound = document.getElementById("soundPlayer");
      sound.pause();
      sounde.currentTime = 0;
      sound.src = `static/sounds/${file}`;
      sound.load();
      sound.play().catch(e => console.log("Ljudfel:", e));
    }
  </script>
</body>
</html>