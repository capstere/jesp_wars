<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Return of the JESP</title>
  <style>
    /* ===========================================================
       BASINSTÄLLNINGAR & BAKGRUND
       =========================================================== */
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: #ffe81f;
      font-family: 'Courier New', Courier, monospace;
    }
    .stars {
      position: fixed;
      width: 100%;
      height: 100%;
      background: black url('static/images/stars.jpg') repeat;
      background-size: cover;
      z-index: -3;
    }

    /* ===========================================================
       START-KNAPP
       =========================================================== */
    #start-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.8em;
      padding: 20px 40px;
      background-color: #ffe81f;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 1000;
    }
    #start-button:hover {
      transform: translate(-50%, -50%) scale(1.1);
      background: white;
    }

    /* ===========================================================
       DOLDA ELEMENT FRÅN BÖRJAN
       =========================================================== */
    #intro-text, #logo, .star-wars, #buttons {
      display: none;
    }

    /* ===========================================================
       INTRO-TEXT (BLÅ)
       Visas direkt, fades ut efter 2s --> total ~4s
       Du kan justera animation-delay och animation-duration
       för att förändra hur länge texten visas.
       =========================================================== */
    #intro-text {
      position: absolute;
      width: 100%;
      top: 40%;
      text-align: center;
      font-size: 2em;
      color: #4ee;
      animation: fadeOut 2s ease-out forwards; /* fadeOut på 2 sek */
      animation-delay: 2s; /* startar fade ut efter 2 sekunder */
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; }
    }

    /* ===========================================================
       LOGOTYP
       Visas efter 2 sekunder, zoomar ut på 5 sek.
       Ändra widths + animationen i "logoZoom" om du vill snabba på / förlänga
       =========================================================== */
    #logo {
      position: absolute;
      top: 30%;
      width: 100%;
      text-align: center;
    }
    #logo img {
      width: 70%; /* Större initial storlek; justera efter smak */
      animation: logoZoom 5s ease-out forwards;
      /* Ingen "animation-delay" här – vi visar loggan via JavaScript. */
    }
    @keyframes logoZoom {
      0%   { transform: scale(1);   opacity: 1; }
      100% { transform: scale(0.1); opacity: 0; }
    }

    /* ===========================================================
       CRAWL
       Kommer efter 5 sekunder (via JavaScript).
       Själva scrollen tar 40 sekunder (crawl i keyframes).
       Justera "animation: crawl 40s" om du vill ha snabbare/långsammare text
       =========================================================== */
    .star-wars {
      position: relative;
      height: 100vh;
      overflow: hidden;
      perspective: 400px;
    }
    .crawl {
      position: absolute;
      bottom: -100%;
      width: 100%;
      transform-origin: 50% 100%;
      transform: rotateX(20deg);
      animation: crawl 40s linear forwards; /* Rullar i 40 sek */
      text-align: center; /* centrerad text för "1977-känsla" */
      font-size: 120%;
      padding: 0 10%;
    }
    @keyframes crawl {
      0%   { bottom: -100%; }
      100% { bottom: 100%;  }
    }

    /* ===========================================================
       PLANET-EFFEKT
       Dyker upp efter crawlen (~45s från start).
       Du kan justera "animation-delay" i planetSlideIn för
       att styra exakt när planeten ska glida in.
       =========================================================== */
    #planet-effect {
      position: fixed;
      bottom: 0;   /* Sitter i botten; justera om du vill placera den annorlunda */
      left: 0;
      width: 100%;
      opacity: 0;
      z-index: -2;
      animation: planetSlideIn 4s ease-out forwards;
      animation-delay: 45s; /* Justera för att planeten ska glida in senare / tidigare */
    }
    @keyframes planetSlideIn {
      from { transform: translateY(50%); opacity: 0; }
      to   { transform: translateY(0);   opacity: 1; }
    }

    /* ===========================================================
       KNAPPAR (LJUD)
       Visas när crawlen nästan är klar – ~42s
       Justera "animation-delay" om du vill synka annorlunda.
       =========================================================== */
    #buttons {
      position: absolute;
      bottom: 30px;
      width: 100%;
      text-align: center;
      opacity: 0;
      animation: fadeInButtons 2s ease-in forwards;
      animation-delay: 42s; /* efter 42 sekunder, dvs mot slutet av crawlen */
    }
    @keyframes fadeInButtons {
      from { opacity: 0; }
      to   { opacity: 1; }
    }
    .btn {
      background: #ffe81f;
      border: none;
      font-weight: bold;
      font-size: 1em;
      padding: 15px 20px;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.3s ease-in-out, background 0.3s;
      border-radius: 8px;
    }
    .btn:hover {
      transform: scale(1.1);
      background: white;
    }

    /* ===========================================================
       AUDIO - döljs
       =========================================================== */
    audio { display: none; }
  </style>
</head>
<body>

  <!-- Stjärnbakgrund -->
  <div class="stars"></div>

  <!-- Planet-effekt, glider in efter crawlen är klar -->
  <img id="planet-effect" src="static/images/planet.png" alt="Planet with Moons">

  <!-- Startknapp -->
  <button id="start-button" onclick="startIntro()">MAY THE JESP BE WITH YOU</button>

  <!-- Blå intro-text -->
  <div id="intro-text">A long time ago, in a Cepheid far, far away…</div>

  <!-- Star Wars-logga -->
  <div id="logo">
    <img src="static/images/starwars_logo.png" alt="Star Wars Logo">
  </div>

  <!-- Crawl-sektionen -->
  <div class="star-wars" id="crawl-container">
    <div class="crawl">
      <p>Episode IX</p>
      <p><strong>RETURN OF THE JESP</strong></p>
      <p>
        The Jedi once known as JESP  
        has been summoned back to the role  
        he believed he had outgrown...
      </p>
      <!-- Fortsätt texten här... -->
      <p>
        ...And as he sits…  
        in his slightly worse chair…  
        he knows:  
        This is not his time.  
        But it is, unfortunately,  
        his shift.
      </p>
    </div>
  </div>

  <!-- Extra ljudknappar -->
  <div id="buttons">
    <button class="btn" onclick="playSound('fraga1.mp3')">Advice 1</button>
    <button class="btn" onclick="playSound('fraga2.mp3')">Advice 2</button>
    <button class="btn" onclick="playSound('fraga3.mp3')">Advice 3</button>
    <button class="btn" onclick="playSound('do_it.mp3')">Advice 4</button>
  </div>

  <!-- Audioelement -->
  <audio id="bgMusic" src="static/sounds/starwars_theme.mp3" preload="auto"></audio>
  <audio id="soundPlayer"></audio>

  <script>
    function startIntro() {
      // Dölj startknappen
      document.getElementById("start-button").style.display = "none";

      // Visa intro-text direkt (den har redan "display: block" i CSS, 
      // men om du vill säkerställa det: 
      document.getElementById("intro-text").style.display = "block";

      // Efter 2 sekunder: 
      // 1) döljs intro-text (fadeOut-animation tar 2s, så texten försvinner helt vid ~4s)
      // 2) visa logotyp & starta musiken
      setTimeout(() => {
        document.getElementById("logo").style.display = "block";
        document.getElementById("bgMusic").play().catch(e => console.log("Musikfel:", e));
      }, 2000);

      // Efter 5 sekunder: visa .star-wars (crawl börjar).
      setTimeout(() => {
        document.getElementById("crawl-container").style.display = "block";
      }, 5000);
    }

    // Spela upp valfritt ljudklipp
    function playSound(file) {
      const sound = document.getElementById("soundPlayer");
      sound.pause();
      sound.currentTime = 0;
      sound.src = `static/sounds/${file}`;
      sound.load();
      sound.play().catch(e => console.log("Ljudfel:", e));
    }
  </script>
</body>
</html>
